          doc.setFont(undefined, "normal");
          y = currentProductY + 10;
        }
        totalGeralOrcamento += parseFloat(produto.valorTotal);
      }
      // Adicionar rodapé
      // Verifica se há espaço suficiente para o rodapé, se não, adiciona uma nova página
      if (y + 50 > doc.internal.pageSize.height) {
          doc.addPage();
          y = 20; // Reinicia a posição Y na nova página
      }
      doc.setFont(undefined, "normal");
      const hoje = new Date();
      const entrega = new Date();
      entrega.setDate(hoje.getDate() + 10);
      doc.setFontSize(10);
      doc.text("PREVISÃO DE ENTREGA:", 20, y);
      doc.text(entrega.toLocaleDateString(), 70, y);
      doc.text("ORÇAMENTO VÁLIDO ATÉ:", 110, y);
      doc.text(new Date(hoje.getTime() + 5 * 24 * 60 * 60 * 1000).toLocaleDateString(), 180, y, { align: "right" });
      y += 10;
      doc.setFontSize(11);
      doc.setFont(undefined, "bold");
      doc.text(`VALOR FINAL: R$ ${totalGeralOrcamento.toFixed(2)}`, 20, y); // Exibe o total geral
      y += 20;
      doc.line(20, y, 190, y);
      doc.setFontSize(10);
      doc.setFont(undefined, "normal");
      doc.text("CLIENTE", 20, y + 5);
      doc.text("MODELO", 160, y + 5);
      window.open(doc.output("bloburl"), "_blank");
    }
  </script>
</body>
</html>
